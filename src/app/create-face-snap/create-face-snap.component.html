<form (ngSubmit)="onSubmitSnap()" [formGroup]="snapForm">
  <fieldset>
    <legend
      class="text-danger text-center text-uppercase text-decoration-underline"
    >
      Creer votre snap's
    </legend>
    <div class="mb-3">
      <label for="title" class="form-label">titre du snap's</label>
      <input
        formControlName="title"
        type="text"
        id="title"
        class="form-control"
        placeholder="title"
      />
      <small
        *ngIf="
          snapForm.controls['title'].errors &&
          snapForm.controls['title'].touched
        "
        class="text-danger p-2"
      >
        {{ getErrorMessage("title", snapForm.controls["title"].errors) }}</small
      >
    </div>
    <div class="mb-3">
      <label for="description" class="form-label">Description du snap's</label>
      <textarea
        type="text"
        formControlName="description"
        id="description"
        class="form-control"
        placeholder="Description"
        rows="4"
      >
      </textarea>
      <small
        class="text-danger p-2"
        *ngIf="
          snapForm.controls['description'].touched &&
          snapForm.controls['description'].errors
        "
      >
        {{
          getErrorMessage(
            "description",
            snapForm.controls["description"].errors
          )
        }}
      </small>
    </div>

    <div class="mb-3">
      <label for="URl" class="form-label">URl de l'image du snap's</label>
      <input
        type="url"
        formControlName="imageUrl"
        id="URl"
        class="form-control"
        placeholder="URl de l'image"
      />

      <small
        class="text-danger p-2"
        *ngIf="
          snapForm.controls['imageUrl'].touched &&
          snapForm.controls['imageUrl'].errors
        "
      >
        {{ getErrorMessage("imageUrl", snapForm.controls["imageUrl"].errors) }}
      </small>
    </div>
    <div class="mb-3">
      <label for="location" class="form-label">location du snap's</label>
      <input
        type="text"
        formControlName="location"
        id="location"
        class="form-control"
        placeholder="location"
      />

      <small
        class="text-danger p-2"
        *ngIf="
          snapForm.controls['location'].touched &&
          snapForm.controls['location'].errors
        "
      >
        {{ getErrorMessage("location", snapForm.controls["location"].errors) }}
      </small>
    </div>
    <div class="mb-3">
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          id="disabledFieldsetCheck"
        />
        <label
          (click)="onPreview()"
          class="form-check-label"
          for="disabledFieldsetCheck"
        >
          <i class="bi bi-eye p-1 text-danger"></i>
        </label>
      </div>
    </div>
    <div class="text-end">
      <button
        [disabled]="snapForm.invalid"
        type="submit"
        class="btn btn-primary"
      >
        <i class="bi bi-save-fill p-1"></i> Creer
      </button>
    </div>
  </fieldset>
</form>

<!-- <div *ngIf="preview"> -->
<div class="mt-2" *ngIf="faceSnapPreview$ | async as faceSnap">
  {{ faceSnap | json }}
</div>
<!-- </div> -->
